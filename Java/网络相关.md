### TCP/IP四层模型：
* 应用层：比如HTTP、FTP文件传输、SMTP/POP3邮件处理等等；
* 创输层：主要为两台主机上的应用程序提供端到端的通信。
> 在TCP/IP协议簇中，有两个不同的传输协议：TCP（传输控制协议）和UDP（用户数据报协议），它们分别承载不同的应用。TCP协议提供可靠的服务，UDP协议提供不可靠是高效的服务。

* 网络层
* 数据链路层

### TCP/IP三次握手建立链接
* 客户端发送SYN信号，请求服务器，我要连接哪个端口；
* 服务端收到消息后，会发送一个ACK信号，并携带SYN信号给客户端；
* 客户端收到后，会再次发送ACK并携带SYN，链接建立；

### TCP/IP四次握手断开链接
> TCP链接是全双工，即两端都可以发送、接受消息，所以断开必须两端都确认了才能断开；  
> 下面四个步骤任意一步没收到回复都不能断开链接；

* 主机A发送FIN表达需要断开链接；
* 主机B收到消息，回复ACK；
* 主机B发送FIN表达需要断开链接；
* 主机A收到消息，回复ACK；

### TCP/UDP区别
* TCP面向链接、UDP无链接；
* TCP传输可靠，UDP不提供可靠性；
* TCP速度相对较慢，UDP较快；


### https相关，如何验证证书的合法性，https中哪里用了对称加密，哪里用了非对称加密；
* 利用数字签名检验编号合法性；
* 真正的内容传输使用对称加密（理论上使用非对称也可以完成，但是非对称开销较大）；
* 生成对称加密的key使用非对称加密；

###### HTTPS校验过程：
* 客户端从服务端获取加密的license（就是公钥），该公钥通过CA机构的私钥进行加密；
* 在本地通过CA机构的公钥对license解密得到公钥，
* 生成一个key，利用得到的公钥进行加密上传给服务端。
* 之后便可以通过这个key使用对称加密进行内容传输了；

###### HTTPS使用非对称加密漏洞？
* 在整个过程中，客户端获取公钥、发送内容到服务器都没问题，因为只有服务端有私钥；
* 但是服务端没办法向客户端发送内容，因为黑客也有公钥，可以解密；

###### HTTPS使用对称+非对称加密漏洞？
> 如果黑客一开始就介入进来，充当中间人的角色，就能截获所有的请求和响应；

### Socket
* socket是应用层与传输层的一个抽象，将复杂的TCP/IP协议隐藏在Socket接口之后，只对应用层暴露简单的接口
* Socket不算是一个协议，它是应用层与传输层间的一个抽象层。
* Socket基于TCP协议，是全双工的.

### WebSocket
> WebScoket是应用层协议，它也是基于TCP实现，同时借助了HTTP协议建立连接

###### WebSocket链接建立过程
* 服务端与客户端建立TCP连接(三次握手)、建立HTTP连接
* 客户端向服务端发送一个请求头的HTTP请求，申请升级到WebSocket连接；
* 服务端回应的响应头，同意升级协议，至此双方将基于WebSocket协议通信。
